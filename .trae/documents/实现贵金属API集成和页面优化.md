# 实现贵金属API集成和页面优化

## 任务分析
1. 读取并集成 `https://xxapi.cn/doc/goldprice` API
2. 将API返回结果在贵金属页面展示
3. 移除原先的钯金和铂金显示
4. 每隔1分钟访问一次API获取最新数据

## 实现计划

### 1. 修改数据服务 (lib/dataService.ts)
- 添加API调用函数 `fetchPreciousMetalsFromAPI()`
- 实现错误处理和数据转换
- 确保返回数据符合现有的 `PreciousMetal` 接口结构

### 2. 修改主页面 (app/page.tsx)
- 添加 useEffect 钩子，在组件加载时调用API获取贵金属数据
- 实现定时器机制，每隔1分钟调用一次API
- 添加定时器清理逻辑，避免内存泄漏
- 实现数据更新逻辑，将API返回的数据存储到状态中
- 添加加载状态和错误处理

### 3. 优化MetalTab组件 (app/components/MetalTab.tsx)
- 确保只显示黄金和白银数据
- 移除对钯金和铂金的显示逻辑
- 保持现有布局和样式

### 4. 错误处理和性能优化
- 添加API调用超时处理
- 实现数据缓存机制，减少不必要的API调用
- 添加加载状态提示，提升用户体验
- 确保定时器在组件卸载时正确清理

## 技术选型
- 使用 `fetch` API 进行网络请求
- 使用 `setInterval` 实现定时调用
- 实现防抖机制，避免频繁调用API
- 保持与现有代码风格和架构的一致性

## 预期效果
- 贵金属页面显示实时的黄金和白银价格
- 每隔1分钟自动更新一次数据
- 移除钯金和铂金的显示
- 页面加载流畅，有良好的错误处理和用户反馈