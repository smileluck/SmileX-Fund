# 实现基金页面Tab切换和实时跟踪功能

## 1. 分析现有代码结构
- 现有基金管理功能在 `FundTab.tsx` 中实现
- 数据服务在 `dataService.ts` 中实现
- 添加基金功能在 `AddHoldingModal.tsx` 中实现

## 2. 实现计划

### 2.1 修改 FundTab.tsx 实现Tab切换
- 在 `FundTab.tsx` 中添加Tab切换功能
- 创建两个Tab：钱包管理和基金跟踪
- 保持现有的钱包管理功能不变

### 2.2 新增基金跟踪Tab功能
- 在基金跟踪Tab中添加基金代码输入框
- 实现基金信息获取功能，复用现有添加基金的接口
- 创建基金跟踪列表，显示基金名称、代码和实时数据
- 添加手动刷新按钮

### 2.3 实现实时数据获取
- 在 `dataService.ts` 中添加新方法 `fetchFundRealTimeData`
- 实现从 `https://fundgz.1234567.com.cn/js/{fundCode}.js` 获取实时数据
- 解析返回的JSONP数据格式

### 2.4 实现定时刷新逻辑
- 添加时间判断逻辑，检查当前时间是否在上午10点到下午3点之间
- 在上午10点到下午3点之间，每5分钟自动刷新基金跟踪列表数据
- 上午10点前或下午3点后停止自动刷新

### 2.5 数据结构设计
- 为基金跟踪创建新的接口 `TrackedFund`
- 包含基金基本信息和实时估值数据

### 2.6 状态管理
- 在 `FundTab.tsx` 中添加基金跟踪相关状态
- 管理跟踪的基金列表和刷新状态

### 2.7 性能优化
- 实现防抖处理，避免用户频繁输入基金代码时的重复请求
- 批量获取基金数据，减少API调用次数
- 合理使用React的useMemo和useCallback优化渲染性能

## 3. 预期结果
- 基金页面通过Tab切换钱包管理和基金跟踪模块
- 钱包管理功能保持原有完整性
- 用户可以方便地添加基金到跟踪列表
- 跟踪列表显示基金实时净值数据
- 在上午10点到下午3点之间每5分钟自动刷新数据
- 提供手动刷新按钮，支持用户手动更新数据